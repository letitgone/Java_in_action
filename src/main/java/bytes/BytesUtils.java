package bytes;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import java.text.DecimalFormat;public class BytesUtils {    private static final Logger logger = LoggerFactory.getLogger(BytesUtils.class);    /**     * 字符串所占的字节数转换成单位KB，B，GB等     */    public static String transformToKB(String json, String encoding) throws Exception {        int size = json.getBytes(encoding).length;        StringBuffer bytes = new StringBuffer();        DecimalFormat format = new DecimalFormat("###.0");        if (size >= 1024 * 1024 * 1024) {            double i = (size / (1024.0 * 1024.0 * 1024.0));            bytes.append(format.format(i)).append("GB");        } else if (size >= 1024 * 1024) {            double i = (size / (1024.0 * 1024.0));            bytes.append(format.format(i)).append("MB");        } else if (size >= 1024) {            double i = (size / (1024.0));            bytes.append(format.format(i)).append("KB");        } else if (size < 1024) {            if (size <= 0) {                bytes.append("0B");            } else {                bytes.append(size).append("B");            }        }        logger.info(bytes.toString());        return bytes.toString();    }}